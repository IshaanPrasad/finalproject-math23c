rm(list=ls())
set.seed(123)
#Change this to location of your data
#Can use drop down menu in R studio: file->import data set-> from stata and find stata data set
setwd("/Users/abhishekmalani/Desktop/Math 23C/Data")
if (!require(foreign)) install.packages("foreign"); library(foreign)
if (!require(haven)) install.packages("haven"); library(haven)
census <- read.csv("finalproject.csv")
head(census)
index <- which(!is.na(census$Income) & !is.na(census$CensusTract) & !is.na(census$State)
& !is.na(census$County) & !is.na(census$TotalPop) & !is.na(census$Citizen)& !is.na(census$Men)
& !is.na(census$Women) & !is.na(census$Hispanic) & !is.na(census$White) & !is.na(census$Black)
& !is.na(census$Native) & !is.na(census$Asian) & !is.na(census$Pacific) & !is.na(census$IncomeErr)
& !is.na(census$IncomePerCap) & !is.na(census$IncomePerCapErr) & !is.na(census$Poverty)
& !is.na(census$ChildPoverty) & !is.na(census$Professional) & !is.na(census$Service)
& !is.na(census$Office) & !is.na(census$Construction) & !is.na(census$Production)
& !is.na(census$Drive) & !is.na(census$Carpool) & !is.na(census$Transit) & !is.na(census$Walk)
& !is.na(census$OtherTransp) & !is.na(census$WorkAtHome) & !is.na(census$MeanCommute)
& !is.na(census$Employed) & !is.na(census$PrivateWork) & !is.na(census$PublicWork)
& !is.na(census$SelfEmployed) & !is.na(census$FamilyWork) & !is.na(census$Unemployment)               )
clean <- census[index,]
head(clean)
write.csv(clean,"clean.csv")  #look at this in Excel or as a text file
median(clean$Income)
length(clean$Income)
head(clean)
median(clean$Income)
length(clean$Income)
hist(clean$Income)
h = hist(clean$Income, probability = TRUE) # or hist(x,plot=FALSE) to avoid the plot of the histogram
h$density = h$counts/sum(h$counts)
plot(h,freq=FALSE)
#To find the best fitting normal distribution, compute the mean and variance of the data
mu <- mean(clean$Income); mu
sigma <- sd(clean$Income)     #estimates square root of the population variance
curve(dnorm(x, mu, sigma), from = 0, to = 250000, add = TRUE, col = "red")
head(clean)
income = clean$Income
hispanic = clean$Hispanic
white = clean$White
black = clean$Black
native = clean$Native
asian = clean$Asian
pacific = clean$Pacific
mostlywhite = clean[which(white>80)]
mostlywhite = clean$Income[which(white>80)]
mostlywhite = clean$Income[which(white>80)]; mostlywhite
mostlyblack = clean$Income[which(black>80)]; mostlyblack
mostlyhispanic = clean$Income[which(hispanic>80)]
mostlyasian = clean$Income[which(asian>80)]
mostlywhite = clean$Income[which(white>80)]; mostlywhite; length(mostlywhite)
mostlyblack = clean$Income[which(black>80)];  length(mostlyblack)
mostlyhispanic = clean$Income[which(hispanic>80)];  length(mostlyhispanic)
mostlyasian = clean$Income[which(asian>80)]; length(mostlyasian)
mostlynative = clean$Income[which(native>80)]; length(mostlynative)
mostlypacific = clean$Income[which(pacific>80)]; length(mostlypacific)
mostlywhite = clean$Income[which(white>75)]; mostlywhite; length(mostlywhite)
mostlyblack = clean$Income[which(black>75)];  length(mostlyblack)
mostlyhispanic = clean$Income[which(hispanic>75)];  length(mostlyhispanic)
mostlyasian = clean$Income[which(asian>75)]; length(mostlyasian)
mostlynative = clean$Income[which(native>75)]; length(mostlynative)
mostlypacific = clean$Income[which(pacific>75)]; length(mostlypacific)
head(clean)
mean(clean$Asian)
mostlyasian = clean$Income[which(asian>50)]; length(mostlyasian)
whiteincome = mean(mostlywhite)
blackincome = mean(mostlyblack)
hispanicincome = mean(mostlyhispanic)
asianincome = mean(mostlyasian)
nativeincome = mean(mostlynative)
mostlypacific = clean$Income[which(pacific>50)]; length(mostlypacific)
mostlypacific = clean$Income[which(pacific>75)]; length(mostlypacific)
pacificincome = mean(mostlypacific)
whiteincome; blackincome;hispanicincome;asianincome;nativeincome;pacificincome
plot(whiteincome; blackincome;hispanicincome;asianincome;nativeincome;pacificincome)
plot(whiteincome, blackincome, hispanicincome, asianincome, nativeincome, pacificincome)
barplot(whiteincome, blackincome, hispanicincome, asianincome, nativeincome, pacificincome)
?barplot
barplot(c(whiteincome, blackincome, hispanicincome, asianincome, nativeincome, pacificincome))
barplot(c(whiteincome, blackincome, hispanicincome, asianincome, nativeincome, pacificincome), names.arg = c("white", "black", "hispanic", "asian", "native", "pacific"))
barplot(c(whiteincome, blackincome, hispanicincome, asianincome, nativeincome, pacificincome), names.arg = c("white", "black", "hispanic", "asian", "native", "pacific"), col =c("white", "black","brown", "yellow", "red", "blue"))
barplot(c(whiteincome, blackincome, hispanicincome, asianincome, nativeincome, pacificincome), names.arg = c("white", "black", "hispanic", "asian", "native", "pacific"), col =c("white", "black","brown", "yellow", "red", "tan"))
barplot(c(whiteincome, blackincome, hispanicincome, asianincome, nativeincome, pacificincome), names.arg = c("white", "black", "hispanic", "asian", "native", "pacific"), col =c("white", "black","brown", "yellow", "red", "tan"),main = "Income")
barplot(c(whiteincome, blackincome, hispanicincome, asianincome, nativeincome, pacificincome), names.arg = c("white", "black", "hispanic", "asian", "native", "pacific"),main = "Income")
plot(c(0,0), (1,200000))
c
plot(c(0,0), c(1,200000))
scatter.smooth(c(0,0), c(1,200000))
scatter.smooth(c(0,0), c(1,200000))
scatter.smooth(c(0,1), c(0,200000))
plot(c(0,1), c(0,200000))
hispanic = which(clean$Hispanic>75)
white = which(clean$White>75)
black = which(clean$Black>75)
native = which(clean$Native>75)
asian = which(clean$Asian>75)
pacific = which(clean$Pacific>75)
mostlywhite = clean$Income[white]; mostlywhite; length(mostlywhite)
mostlyblack = clean$Income[black];  length(mostlyblack)
mostlyhispanic = clean$Income[hispanic];  length(mostlyhispanic)
mostlyasian = clean$Income[asian]; length(mostlyasian)
mostlynative = clean$Income[native]; length(mostlynative)
mostlypacific = clean$Income[pacific]; length(mostlypacific)
whiteincome = mean(mostlywhite)
blackincome = mean(mostlyblack)
hispanicincome = mean(mostlyhispanic)
asianincome = mean(mostlyasian)
nativeincome = mean(mostlynative)
pacificincome = mean(mostlypacific)
whiteincome; blackincome;hispanicincome;asianincome;nativeincome;pacificincome
barplot(c(whiteincome, blackincome, hispanicincome, asianincome, nativeincome, pacificincome), names.arg = c("white", "black", "hispanic", "asian", "native", "pacific"),main = "Income")
hispanic = which(clean$Hispanic>75);  length(mostlyhispanic)
white = which(clean$White>75); length(mostlywhite)
black = which(clean$Black>75);  length(mostlyblack)
native = which(clean$Native>75); length(mostlynative)
asian = which(clean$Asian>75); length(mostlyasian)
pacific = which(clean$Pacific>75); length(mostlypacific)
whitepoverty = mean(mostlywhite)
blackpoverty = mean(mostlyblack)
hispanicpoverty = mean(mostlyhispanic)
asianpoverty = mean(mostlyasian)
nativepoverty = mean(mostlynative)
pacificpoverty = mean(mostlypacific)
whitepoverty; blackpoverty;hispanicpoverty;asianpoverty;nativepoverty;pacificpoverty
mostlywhite = clean$Poverty[white]
mostlyblack = clean$Poverty[black]
mostlyhispanic = clean$Poverty[hispanic]
mostlyasian = clean$Poverty[asian]
mostlynative = clean$Poverty[native]
mostlypacific = clean$Poverty[pacific]
whitepoverty = mean(mostlywhite)
blackpoverty = mean(mostlyblack)
hispanicpoverty = mean(mostlyhispanic)
asianpoverty = mean(mostlyasian)
nativepoverty = mean(mostlynative)
pacificpoverty = mean(mostlypacific)
whitepoverty; blackpoverty;hispanicpoverty;asianpoverty;nativepoverty;pacificpoverty
barplot(c(whitepoverty,blackpoverty,hispanicpoverty,asianpoverty,nativepoverty,pacificpoverty), names.arg = c("white", "black", "hispanic", "asian", "native", "pacific"),main = "Income")
barplot(c(whitepoverty,blackpoverty,hispanicpoverty,asianpoverty,nativepoverty,pacificpoverty), names.arg = c("white", "black", "hispanic", "asian", "native", "pacific"),main = "Poverty")
